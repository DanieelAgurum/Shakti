# ==============================
# ACTIVAR REESCRITURA DE URLS
# ==============================
RewriteEngine On
RewriteBase /shakti/

# ==============================
# EVITAR AFECTAR ARCHIVOS O CARPETAS REALES
# ==============================
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# ==============================
# RUTAS AMIGABLES (home, about, contact, etc.)
# Ejemplo: /shakti/home -> index.php?page=home
# ==============================
RewriteRule ^(home|about|contact)/?$ index.php?page=$1 [L,QSA]

# ==============================
# BLOQUEAR ACCESO DIRECTO A VISTAS SENSIBLES
# ==============================
# Si intentan acceder directamente a /Vista, /Vista/usuaria o /Vista/admin -> enviar a 404
RewriteRule ^Vista(/)?$ Vista/404.php [L,QSA]
RewriteRule ^Vista/usuaria(/)?$ Vista/404.php [L,QSA]
RewriteRule ^Vista/admin(/)?$ Vista/404.php [L,QSA]

# ==============================
# EXCEPCIONES PERMITIDAS
# ==============================
# Ejemplo: permitir acceso directo a Vista/usuaria/usuarios.php
RewriteRule ^Vista/usuaria/usuarios/?$ Vista/usuaria/usuarios.php [L,QSA]
RewriteRule ^Vista/usuaria/publicaciones/?$ Vista/usuaria/publicaciones.php [L,QSA]
RewriteRule ^Vista/chat/?$ Vista/chat.php [L,QSA]


# ==============================
# P√ÅGINA 404 PERSONALIZADA
# ==============================
ErrorDocument 404 /shakti/Vista/404.php
